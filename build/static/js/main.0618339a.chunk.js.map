{"version":3,"sources":["components/Filter.js","components/NewEntry.js","components/DisplayEntry.js","components/Feedback.js","services/contacts.js","App.js","index.js"],"names":["Filter","filterEntry","handleFilterEntry","value","onChange","NewEntry","props","onSubmit","handleSubmit","name","handleNameEntry","required","number","handlePhoneEntry","type","DisplayEntry","entries","handleDelete","filteredEntries","filter","entry","toLowerCase","includes","length","map","id","onClick","Feedback","feedback","feedbackClass","className","baseUrl","contacts","getAll","axios","get","then","response","data","createEntry","newObject","post","deleteEntry","delete","updateEntry","put","App","useState","persons","setPersons","setNewName","setNumber","setFilterEntry","setFeedback","useEffect","contactService","event","target","preventDefault","find","element","window","confirm","person","catch","setTimeout","contact","previousSibling","wholeText","status","parseInt","alert","ReactDOM","render","document","getElementById"],"mappings":"qLAeeA,EAbA,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,YAAaC,EAAwB,EAAxBA,kBAC7B,OACE,+BACE,qCACE,4CACA,8CACW,uBAAOC,MAAOF,EAAaG,SAAUF,aCmBzCG,EAzBE,SAACC,GAChB,OACE,sBAAMC,SAAUD,EAAME,aAAtB,SACE,qCACE,+CACA,0CACQ,IACN,uBAAOL,MAAOG,EAAMG,KAAML,SAAUE,EAAMI,gBAAiBC,UAAQ,OAErE,uBACA,4CACU,IACR,uBACER,MAAOG,EAAMM,OACbR,SAAUE,EAAMO,iBAChBF,UAAQ,OAGZ,uBACA,wBAAQG,KAAK,SAAb,uBCQOC,EA3BM,SAAC,GAA4C,IAA1CC,EAAyC,EAAzCA,QAASf,EAAgC,EAAhCA,YAAagB,EAAmB,EAAnBA,aACtCC,EAAkBjB,EACpBe,EAAQG,QAAO,SAACC,GAAD,OACbA,EAAMX,KAAKY,cAAcC,SAASrB,EAAYoB,kBAEhDL,EACJ,OACE,gCACE,yCACA,6BACGE,EAAgBK,OAAS,EACxBL,EAAgBM,KAAI,SAACJ,GAAD,OAClB,+BACGA,EAAMX,KADT,IACgBW,EAAMR,OAAQ,IAC5B,wBAAQa,GAAIL,EAAMK,GAAIC,QAAST,EAA/B,sBAFOG,EAAMK,OAQjB,6DCTKE,EAXE,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAClB,GAAIA,EAAU,CACZ,IAAMC,EAAgBD,EAASN,SAAS,uBACpC,mBACA,mBACJ,OAAO,qBAAKQ,UAAWD,EAAhB,SAAgCD,IAEvC,OAAO,M,gBCRLG,EAAU,eA2BDC,EAPE,CACfC,OAnBa,WACb,OAAOC,IAAMC,IAAIJ,GAASK,MAAK,SAACC,GAAD,OAAcA,EAASC,SAmBtDC,YAhBkB,SAACC,GACnB,OAAON,IAAMO,KAAKV,EAASS,GAAWJ,MAAK,SAACC,GAAD,OAAcA,EAASC,SAgBlEI,YAbkB,SAACjB,GACnB,OAAOS,IAAMS,OAAN,UAAgBZ,EAAhB,YAA2BN,KAalCmB,YAVkB,SAACnB,EAAIe,GACvB,OAAON,IACJW,IADI,UACGd,EADH,YACcN,GAAMe,GACxBJ,MAAK,SAACC,GAAD,OAAcA,EAASC,UC0ElBQ,EArFH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEWF,mBAAS,IAFpB,mBAETtC,EAFS,KAEHyC,EAFG,OAGYH,mBAAS,IAHrB,mBAGTnC,EAHS,KAGDuC,EAHC,OAIsBJ,mBAAS,IAJ/B,mBAIT9C,EAJS,KAIImD,EAJJ,OAKgBL,qBALhB,mBAKTnB,EALS,KAKCyB,EALD,KAOhBC,qBAAU,WACRC,EAAetB,SAASG,MAAK,SAACE,GAAD,OAAUW,EAAWX,QACjD,IAuDH,OACE,gCACE,2CACA,cAAC,EAAD,CAAUV,SAAUA,IACpB,cAAC,EAAD,CAAQ3B,YAAaA,EAAaC,kBAvDZ,SAACsD,GAAD,OAAWJ,EAAeI,EAAMC,OAAOtD,UAwD7D,cAAC,EAAD,CACEM,KAAMA,EACNC,gBA5DkB,SAAC8C,GAAD,OAAWN,EAAWM,EAAMC,OAAOtD,QA6DrDS,OAAQA,EACRC,iBA7DmB,SAAC2C,GAAD,OAAWL,EAAUK,EAAMC,OAAOtD,QA8DrDK,aA3De,SAACgD,GAEpB,GADAA,EAAME,iBACFV,EAAQW,MAAK,SAACC,GAAD,OAAaA,EAAQnD,OAASA,MAG7C,GAFkBoD,OAAOC,QAAP,UAAkBrD,EAAlB,4EAEH,CACb,IAAMgB,EAAKuB,EAAQW,MAAK,SAACI,GAAD,OAAYA,EAAOtD,OAASA,KAAMgB,GAC1D8B,EACGX,YAAYnB,EAAI,CAAEhB,OAAMG,WACxBwB,MAAK,SAACE,GACLW,EAAW,GAAD,mBAAKD,EAAQ7B,QAAO,SAAC4C,GAAD,OAAYA,EAAOtC,KAAOA,MAA9C,CAAmDa,KAC7De,EAAY,WAAD,OAAY5C,OAExBuD,OAAM,WACLX,EAAY,GAAD,OACN5C,EADM,6EAMjB8C,EAAehB,YAAY,CAAE9B,OAAMG,WAAUwB,MAAK,SAACE,GACjDW,EAAW,GAAD,mBAAKD,GAAL,CAAcV,KACxBe,EAAY,SAAD,OAAU5C,OAGzBwD,YAAW,kBAAMZ,EAAY,QAAO,KACpCH,EAAW,IACXC,EAAU,OAkCR,cAAC,EAAD,CACEnC,QAASgC,EACT/C,YAAaA,EACbgB,aAlCe,SAACuC,GACpB,IAAM/B,EAAK+B,EAAMC,OAAOhC,GAClByC,EAAUV,EAAMC,OAAOU,gBAAgBC,UAC3BP,OAAOC,QAAP,6CACsBI,KAGtCX,EAAeb,YAAYjB,GAAIW,MAAK,SAACC,GACX,MAApBA,EAASgC,QACXpB,EAAWD,EAAQ7B,QAAO,SAAC4C,GAAD,OAAYA,EAAOtC,KAAO6C,SAAS7C,OAC7D4B,EAAY,WAAD,OAAYa,IACvBD,YAAW,kBAAMZ,EAAY,QAAO,MAEpCkB,MAAM,sCAAD,OAAuC9C,c,MC5DtD+C,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.0618339a.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ filterEntry, handleFilterEntry }) => {\r\n  return (\r\n    <form>\r\n      <fieldset>\r\n        <legend>Filter</legend>\r\n        <label>\r\n          by name: <input value={filterEntry} onChange={handleFilterEntry} />\r\n        </label>\r\n      </fieldset>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst NewEntry = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <fieldset>\r\n        <legend>Add a new</legend>\r\n        <label>\r\n          name:{\" \"}\r\n          <input value={props.name} onChange={props.handleNameEntry} required />\r\n        </label>\r\n        <br />\r\n        <label>\r\n          number:{\" \"}\r\n          <input\r\n            value={props.number}\r\n            onChange={props.handlePhoneEntry}\r\n            required\r\n          />\r\n        </label>\r\n        <br />\r\n        <button type=\"submit\">add</button>\r\n      </fieldset>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default NewEntry;\r\n","import React from \"react\";\r\n\r\nconst DisplayEntry = ({ entries, filterEntry, handleDelete }) => {\r\n  const filteredEntries = filterEntry\r\n    ? entries.filter((entry) =>\r\n        entry.name.toLowerCase().includes(filterEntry.toLowerCase())\r\n      )\r\n    : entries;\r\n  return (\r\n    <div>\r\n      <h2>Numbers</h2>\r\n      <ul>\r\n        {filteredEntries.length > 0 ? (\r\n          filteredEntries.map((entry) => (\r\n            <li key={entry.id}>\r\n              {entry.name} {entry.number}{\" \"}\r\n              <button id={entry.id} onClick={handleDelete}>\r\n                delete\r\n              </button>\r\n            </li>\r\n          ))\r\n        ) : (\r\n          <li>No entries to display</li>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DisplayEntry;\r\n","import React from \"react\";\r\n\r\nconst Feedback = ({ feedback }) => {\r\n  if (feedback) {\r\n    const feedbackClass = feedback.includes(\"removed from server\")\r\n      ? \"feedback failure\"\r\n      : \"feedback success\";\r\n    return <div className={feedbackClass}>{feedback}</div>;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default Feedback;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl).then((response) => response.data);\r\n};\r\n\r\nconst createEntry = (newObject) => {\r\n  return axios.post(baseUrl, newObject).then((response) => response.data);\r\n};\r\n\r\nconst deleteEntry = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`);\r\n};\r\n\r\nconst updateEntry = (id, newObject) => {\r\n  return axios\r\n    .put(`${baseUrl}/${id}`, newObject)\r\n    .then((response) => response.data);\r\n};\r\n\r\nconst contacts = {\r\n  getAll,\r\n  createEntry,\r\n  deleteEntry,\r\n  updateEntry,\r\n};\r\n\r\nexport default contacts;\r\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport NewEntry from \"./components/NewEntry\";\nimport DisplayEntry from \"./components/DisplayEntry\";\nimport Feedback from \"./components/Feedback\";\nimport contactService from \"./services/contacts\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [name, setNewName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const [filterEntry, setFilterEntry] = useState(\"\");\n  const [feedback, setFeedback] = useState();\n\n  useEffect(() => {\n    contactService.getAll().then((data) => setPersons(data));\n  }, []);\n\n  const handleNameEntry = (event) => setNewName(event.target.value);\n  const handlePhoneEntry = (event) => setNumber(event.target.value);\n  const handleFilterEntry = (event) => setFilterEntry(event.target.value);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (persons.find((element) => element.name === name)) {\n      const confirmed = window.confirm(`${name} is already added to phonebook.\nReplace the old number with a new one?`);\n      if (confirmed) {\n        const id = persons.find((person) => person.name === name).id;\n        contactService\n          .updateEntry(id, { name, number })\n          .then((data) => {\n            setPersons([...persons.filter((person) => person.id !== id), data]);\n            setFeedback(`Updated ${name}`);\n          })\n          .catch(() => {\n            setFeedback(\n              `${name} has already been removed from server. Please refresh the page.`\n            );\n          });\n      }\n    } else {\n      contactService.createEntry({ name, number }).then((data) => {\n        setPersons([...persons, data]);\n        setFeedback(`Added ${name}`);\n      });\n    }\n    setTimeout(() => setFeedback(null), 5000);\n    setNewName(\"\");\n    setNumber(\"\");\n  };\n\n  const handleDelete = (event) => {\n    const id = event.target.id;\n    const contact = event.target.previousSibling.wholeText;\n    const confirmed = window.confirm(\n      `Do you want to remove this entry?\\n${contact}`\n    );\n    if (confirmed) {\n      contactService.deleteEntry(id).then((response) => {\n        if (response.status === 204) {\n          setPersons(persons.filter((person) => person.id !== parseInt(id)));\n          setFeedback(`Deleted ${contact}`);\n          setTimeout(() => setFeedback(null), 5000);\n        } else {\n          alert(`Server cannot remove entry with ID ${id}`);\n        }\n      });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Feedback feedback={feedback} />\n      <Filter filterEntry={filterEntry} handleFilterEntry={handleFilterEntry} />\n      <NewEntry\n        name={name}\n        handleNameEntry={handleNameEntry}\n        number={number}\n        handlePhoneEntry={handlePhoneEntry}\n        handleSubmit={handleSubmit}\n      />\n      <DisplayEntry\n        entries={persons}\n        filterEntry={filterEntry}\n        handleDelete={handleDelete}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}